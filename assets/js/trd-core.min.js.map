{"version":3,"sources":["trd-core.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","value","options","fn","assign","messageTimeout","fixedEmbedTimer","init","piano_timer","setInterval","window","tp","piano","clearInterval","nav_timer","jQuery","trd_nav","push","$","pianoId","isUserValid","addClass","removeClass","on","event","preventDefault","logout","location","reload","show","screen","displayMode","loggedIn","this","hasClass","toggleClass","scroll","nav_scroll_left","animate","scrollLeft","lscroll","rscroll","get_total_nav_item_width","width","nav_regions_width","nav_item_width","each","2","els","handlers","$widgetSlide","$widgetSlideClose","$form","$close","$btn","find","$subAll","$widget","$navlink","$embed_close","$fixedWidget","timer","eventListener","document","fixedEmbed","save","loadWidgetForm","closeFixedWidget","subscribeAll","close","registerEls","setTimeout","showFixedWidget","showWidgetForm","email","prop","trigger","val","data","action","security","trd_ajax","name","attr","is","trim","text","post","url","response","removeAttr","hide","success","focus","scrollTop","append","checked","3","_navigation","_interopRequireDefault","_newsletter","__esModule","default","console","info","./_navigation","./_newsletter"],"mappings":"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","file":"trd-core.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = _default;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _default(options) {\n  var defaults = {\n    messageTimeout: 5000,\n    // 5 seconds\n    fixedEmbedTimer: 3000 // 3 seconds\n\n  };\n  var els;\n  var fn;\n  var handlers;\n  var o = Object.assign(defaults, options);\n  fn = {\n    init: function init() {\n      var piano_timer = setInterval(function () {\n        if (_typeof(window.tp) === 'object') {\n          fn.piano();\n          clearInterval(piano_timer);\n        }\n      }, 500);\n      var nav_timer = setInterval(function () {\n        if (typeof window.jQuery === 'function') {\n          fn.trd_nav();\n          clearInterval(nav_timer);\n        }\n      }, 500);\n    },\n    piano: function piano() {\n      window.tp.push([\"init\", function () {\n        if ($('.trd-nav-account-login, .trd-nav-account-logout') != null) {\n          if (window.tp.pianoId.isUserValid()) {\n            $('.trd-header.trd-nav').addClass('trd-nav-loggedin');\n            $('.trd-nav-account-login').addClass('hide');\n            $('.trd-nav-account-logout').removeClass('hide');\n            $('.trd-nav-account-logout a[href*=\"/#logout\"]').on('click', function (event) {\n              event.preventDefault();\n              window.tp.pianoId.logout();\n              window.location.reload();\n            });\n          } else {\n            $('.trd-nav-account-logout').addClass('hide');\n            $('.trd-nav-account-login').removeClass('hide');\n            $('.trd-nav-account-login a[href*=\"/#login\"]').on('click', function (event) {\n              event.preventDefault();\n              window.tp.pianoId.show({\n                screen: 'login',\n                displayMode: 'modal',\n                loggedIn: function loggedIn() {\n                  window.location.reload();\n                }\n              });\n              return false;\n            });\n          }\n        }\n      }]);\n    },\n    trd_nav: function trd_nav() {\n      $('.trd-nav-menu-btn').on('click', function () {\n        if ($(this).hasClass('close')) {\n          $('.trd-nav-secondary').removeClass('show');\n          $('html,body').removeClass('overflow-off');\n        } else {\n          $('.trd-nav-secondary').addClass('show');\n          $('html,body').addClass('overflow-off');\n        }\n      });\n      $('.trd-nav-search-btn').on('click', function () {\n        $('.trd-nav-search').toggleClass('show');\n      });\n      $('.trd-nav-mid-left').on('click', function () {\n        var scroll = fn.nav_scroll_left();\n        $('.trd-nav-regions').animate({\n          scrollLeft: scroll - 100\n        }, 1000);\n      });\n      $('.trd-nav-mid-right').on('click', function () {\n        var scroll = fn.nav_scroll_left();\n        $('.trd-nav-regions').animate({\n          scrollLeft: scroll + 100\n        }, 1000);\n      });\n      $('.trd-nav-regions').on('scroll', function () {\n        fn.nav_scroll_left();\n      });\n    },\n    nav_scroll_left: function nav_scroll_left() {\n      var lscroll = $('.trd-nav-regions').scrollLeft();\n      var rscroll = fn.get_total_nav_item_width();\n      var width = window.nav_regions_width;\n\n      if (lscroll > 0) {\n        $('.trd-nav-mid').addClass('show-left');\n      } else {\n        $('.trd-nav-mid').removeClass('show-left');\n      }\n\n      if (rscroll <= width + lscroll) {\n        $('.trd-nav-mid').removeClass('show-right');\n      } else {\n        $('.trd-nav-mid').addClass('show-right');\n      }\n\n      return lscroll;\n    },\n    get_total_nav_item_width: function get_total_nav_item_width() {\n      if (!window.nav_item_width) {\n        window.nav_regions_width = $('.trd-nav-regions').width();\n        window.nav_item_width = 0;\n        $('.trd-nav-regions .trd-nav-item').each(function () {\n          window.nav_item_width += $(this).width();\n        });\n      }\n\n      return window.nav_item_width;\n    }\n  };\n  fn.init();\n}\n\n;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = _default;\n\nfunction _default(options) {\n  var defaults = {\n    messageTimeout: 5000,\n    // 5 seconds\n    fixedEmbedTimer: 3000 // 3 seconds\n\n  };\n  var els;\n  var fn;\n  var handlers;\n  var o = Object.assign(defaults, options);\n  els = {\n    $widgetSlide: $('.newsletter-slide'),\n    $widgetSlideClose: $('.newsletter-slide-close-btn'),\n    $form: $('.newsletter-form'),\n    $close: $('#newsletter-form-close-btn'),\n    $btn: $('.newsletter-form').find('button[type=submit]'),\n    $subAll: $('#newsletter_subscribe_all'),\n    $widget: $('form[name=mc-embedded-subscribe-form], .newsletter .widget-embed-form'),\n    $navlink: $('.trd-nav-link[href*=\"/newsletter/\"]'),\n    $embed_close: $('.widget-embed-close'),\n    $fixedWidget: $('.newsletter.widget-embed.widget-fixed')\n  };\n  fn = {\n    init: function init() {\n      var timer = setInterval(function () {\n        if (window.jQuery) {\n          fn.eventListener();\n\n          if ($(document).width() > 1040) {\n            fn.fixedEmbed();\n          }\n\n          clearInterval(timer);\n        }\n      }, 500);\n    },\n    eventListener: function eventListener() {\n      els.$form.on('submit', handlers.save);\n      els.$widget.on('submit', handlers.loadWidgetForm);\n      els.$navlink.on('click', handlers.loadWidgetForm);\n      els.$embed_close.on('click', handlers.closeFixedWidget);\n      els.$subAll.on('change', handlers.subscribeAll);\n      els.$widgetSlideClose.on('click', handlers.close);\n    },\n    registerEls: function registerEls() {\n      els.$widgetSlide = $('.newsletter-slide');\n      els.$widgetSlideClose = $('.newsletter-slide-close-btn');\n      els.$form = $('.newsletter-form');\n      els.$close = $('#newsletter-form-close-btn');\n      els.$btn = $('.newsletter-form').find('button[type=submit]');\n      els.$subAll = $('#newsletter_subscribe_all');\n      fn.eventListener();\n    },\n    fixedEmbed: function fixedEmbed() {\n      if (els.$fixedWidget.length) {\n        setTimeout(function () {\n          handlers.showFixedWidget();\n        }, o.fixedEmbedTimer);\n      }\n    },\n    showWidgetForm: function showWidgetForm(email) {\n      els.$subAll.prop('checked', true).trigger('change');\n      $('header.trd-header, .admin-bar').addClass('zdown');\n\n      if ($(document).width() < 782) {\n        $('html,body').addClass('overflow-off');\n      }\n\n      els.$widgetSlide.addClass('show');\n      els.$form.find('input[type=email]').val(email);\n      setTimeout(function () {\n        els.$form.on('submit', handlers.save);\n        els.$form.on('reset', handlers.close);\n      }, 1000);\n    }\n  };\n  handlers = {\n    save: function save(e) {\n      els.$btn = els.$form.find('button[type=submit]');\n      var data = {\n        'action': 'newsletter_subscribe',\n        'security': trd_ajax.security,\n        'data': {}\n      };\n      els.$form.find('input').each(function () {\n        var val = $(this).val();\n        var name = $(this).attr('name');\n        var type = $(this).attr('type');\n\n        if ('checkbox' === type) {\n          if (name !== 'subscribe_all') {\n            data.data[name] = $(this).is(\":checked\");\n          }\n        } else if ($.trim(val) !== '') {\n          data.data[name] = val;\n        }\n      });\n      els.$btn.text('Subscribing...').attr('disabled', 'disabled');\n      jQuery.post(trd_ajax.url, data, function (response) {\n        els.$btn.text('Subscribe').removeAttr('disabled');\n        $('.newsletter-form-button').hide();\n\n        if (response.success) {\n          $('.newsletter-form-success').show();\n        } else {\n          $('.newsletter-form-error').show();\n        }\n\n        setTimeout(function () {\n          $('.newsletter-form-success,.newsletter-form-error').hide();\n          $('.newsletter-form-button').show();\n        }, o.messageTimeout);\n      });\n      return false;\n    },\n    loadWidgetForm: function loadWidgetForm(e) {\n      e.preventDefault();\n      var data = {\n        'action': 'newsletter_widget_form',\n        'security': trd_ajax.security\n      };\n      var widget = $(this);\n      var email = widget.find('input[type=email], input[name=EMAIL]').val();\n\n      if ($('.newsletter-form.page').length) {\n        $('.newsletter-form.page').find('input[type=email]').val(email).focus();\n        $('html,body').animate({\n          scrollTop: 0\n        }, 500);\n      } else if (els.$widgetSlide.length) {\n        fn.showWidgetForm(email);\n      } else {\n        jQuery.post(trd_ajax.url, data, function (response) {\n          if (response) {\n            $('body').append(response);\n            fn.showWidgetForm(email);\n            fn.registerEls();\n          }\n        });\n      }\n\n      return false;\n    },\n    close: function close(e) {\n      els.$widgetSlide.removeClass('show');\n      els.$subAll.prop('checked', true).trigger('change');\n      $('html,body').removeClass('overflow-off');\n      setTimeout(function () {\n        $('header.trd-header, .admin-bar').removeClass('zdown');\n      }, 500);\n    },\n    closeFixedWidget: function closeFixedWidget(e) {\n      $('.newsletter.widget-embed.widget-fixed').removeClass('show');\n    },\n    showFixedWidget: function showFixedWidget(e) {\n      $('.newsletter.widget-embed.widget-fixed').addClass('show');\n    },\n    subscribeAll: function subscribeAll(e) {\n      var checked = $(this).prop(\"checked\");\n      els.$form.find('.checkboxes input[type=checkbox]').prop('checked', checked);\n    }\n  };\n  fn.init();\n}\n\n;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _navigation = _interopRequireDefault(require(\"./_navigation\"));\n\nvar _newsletter = _interopRequireDefault(require(\"./_newsletter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nconsole.info('TRD Core Loaded');\n(0, _navigation[\"default\"])();\n(0, _newsletter[\"default\"])();\n\n},{\"./_navigation\":1,\"./_newsletter\":2}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvX25hdmlnYXRpb24uanMiLCJzcmMvanMvX25ld3NsZXR0ZXIuanMiLCJzcmMvanMvdHJkLWNvcmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7QUNBZSxrQkFBVyxPQUFYLEVBQW9CO0FBRWpDLE1BQU0sUUFBUSxHQUFHO0FBQ2YsSUFBQSxjQUFjLEVBQUcsSUFERjtBQUNRO0FBQ3ZCLElBQUEsZUFBZSxFQUFFLElBRkYsQ0FFUTs7QUFGUixHQUFqQjtBQUtBLE1BQUksR0FBSjtBQUNBLE1BQUksRUFBSjtBQUNBLE1BQUksUUFBSjtBQUNBLE1BQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFQLENBQWUsUUFBZixFQUF5QixPQUF6QixDQUFSO0FBRUEsRUFBQSxFQUFFLEdBQUc7QUFDSCxJQUFBLElBREcsa0JBQ0k7QUFDTCxVQUFJLFdBQVcsR0FBRyxXQUFXLENBQUMsWUFBTTtBQUNsQyxZQUFLLFFBQU8sTUFBTSxDQUFDLEVBQWQsTUFBcUIsUUFBMUIsRUFBb0M7QUFDbEMsVUFBQSxFQUFFLENBQUMsS0FBSDtBQUNBLFVBQUEsYUFBYSxDQUFFLFdBQUYsQ0FBYjtBQUNEO0FBQ0YsT0FMNEIsRUFLMUIsR0FMMEIsQ0FBN0I7QUFPQSxVQUFJLFNBQVMsR0FBRyxXQUFXLENBQUMsWUFBTTtBQUNoQyxZQUFLLE9BQU8sTUFBTSxDQUFDLE1BQWQsS0FBeUIsVUFBOUIsRUFBMEM7QUFDeEMsVUFBQSxFQUFFLENBQUMsT0FBSDtBQUNBLFVBQUEsYUFBYSxDQUFFLFNBQUYsQ0FBYjtBQUNEO0FBQ0YsT0FMMEIsRUFLeEIsR0FMd0IsQ0FBM0I7QUFNRCxLQWZFO0FBa0JILElBQUEsS0FsQkcsbUJBa0JLO0FBQ04sTUFBQSxNQUFNLENBQUMsRUFBUCxDQUFVLElBQVYsQ0FBZSxDQUFDLE1BQUQsRUFBUyxZQUFVO0FBQ2hDLFlBQUksQ0FBQyxDQUFDLGlE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RVYsRUF5RWM7QUFDckIsTUFBQSxDQUFDLENBQUMsdUNBQUQsQ0FBRCxDQUEyQyxXQUEzQyxDQUF1RCxNQUF2RDtBQUNELEtBM0VRO0FBNkVULElBQUEsZUE3RVMsMkJBNkVTLENBN0VULEVBNkVhO0FBQ3BCLE1BQUEsQ0FBQyxDQUFDLHVDQUFELENBQUQsQ0FBMkMsUUFBM0MsQ0FBb0QsTUFBcEQ7QUFDRCxLQS9FUTtBQWlGVCxJQUFBLFlBakZTLHdCQWlGTSxDQWpGTixFQWlGVTtBQUNqQixVQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsSUFBRCxDQUFELENBQVEsSUFBUixDQUFhLFNBQWIsQ0FBZDtBQUNBLE1BQUEsR0FBRyxDQUFDLEtBQUosQ0FBVSxJQUFWLENBQWUsa0NBQWYsRUFBbUQsSUFBbkQsQ0FBd0QsU0FBeEQsRUFBbUUsT0FBbkU7QUFDRDtBQXBGUSxHQUFYO0FBdUZBLEVBQUEsRUFBRSxDQUFDLElBQUg7QUFDRDs7QUFBQTs7O0FDeEtEOztBQUVBOztBQUNBOzs7O0FBRkEsT0FBTyxDQUFDLElBQVIsQ0FBYSxpQkFBYjtBQUdBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoIG9wdGlvbnMgKXtcblxuICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICBtZXNzYWdlVGltZW91dDogIDUwMDAsIC8vIDUgc2Vjb25kc1xuICAgIGZpeGVkRW1iZWRUaW1lcjogMzAwMCAgLy8gMyBzZWNvbmRzXG4gIH07XG5cbiAgbGV0IGVscztcbiAgbGV0IGZuO1xuICBsZXQgaGFuZGxlcnM7XG4gIGxldCBvID0gT2JqZWN0LmFzc2lnbiggZGVmYXVsdHMsIG9wdGlvbnMgKTtcblxuICBmbiA9IHtcbiAgICBpbml0KCkge1xuICAgICAgbGV0IHBpYW5vX3RpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoIHR5cGVvZiB3aW5kb3cudHAgPT09ICdvYmplY3QnICl7XG4gICAgICAgICAgZm4ucGlhbm8oKTtcbiAgICAgICAgICBjbGVhckludGVydmFsKCBwaWFub190aW1lciApO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgICAgXG4gICAgICBsZXQgbmF2X3RpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoIHR5cGVvZiB3aW5kb3cualF1ZXJ5ID09PSAnZnVuY3Rpb24nICl7XG4gICAgICAgICAgZm4udHJkX25hdigpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIG5hdl90aW1lciApO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgIH0sXG5cbiAgICBcbiAgICBwaWFubygpIHtcbiAgICAgIHdpbmRvdy50cC5wdXNoKFtcImluaXRcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoICQoJy50cmQtbmF2LWFjY291bnQtbG9naW4sIC50cmQtbmF2LWFjY291bnQtbG9nb3V0JykgIT0gbnVsbCApIHtcbiAgICAgICAgICBpZiggd2luZG93LnRwLnBpYW5vSWQuaXNVc2VyVmFsaWQoKSApIHtcbiAgICAgICAgICAgICQoJy50cmQtaGVhZGVyLnRyZC1uYXYnKS5hZGRDbGFzcygndHJkLW5hdi1sb2dnZWRpbicpO1xuICAgICAgICAgICAgJCgnLnRyZC1uYXYtYWNjb3VudC1sb2dpbicpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICAkKCcudHJkLW5hdi1hY2NvdW50LWxvZ291dCcpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICAkKCcudHJkLW5hdi1hY2NvdW50LWxvZ291dCBhW2hyZWYqPVwiLyNsb2dvdXRcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgd2luZG93LnRwLnBpYW5vSWQubG9nb3V0KCk7XG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcudHJkLW5hdi1hY2NvdW50LWxvZ291dCcpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICAkKCcudHJkLW5hdi1hY2NvdW50LWxvZ2luJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgICQoJy50cmQtbmF2LWFjY291bnQtbG9naW4gYVtocmVmKj1cIi8jbG9naW5cIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgd2luZG93LnRwLnBpYW5vSWQuc2hvdyh7XG4gICAgICAgICAgICAgICAgc2NyZWVuOiAgICAgICdsb2dpbicsXG4gICAgICAgICAgICAgICAgZGlzcGxheU1vZGU6ICdtb2RhbCcsXG4gICAgICAgICAgICAgICAgbG9nZ2VkSW46ICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICB9LFxuXG4gICAgdHJkX25hdigpIHtcbiAgICAgICQoJy50cmQtbmF2LW1lbnUtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2Nsb3NlJykpe1xuICAgICAgICAgICQoJy50cmQtbmF2LXNlY29uZGFyeScpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgJCgnaHRtbCxib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LW9mZicpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAkKCcudHJkLW5hdi1zZWNvbmRhcnknKS5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICAgICQoJ2h0bWwsYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1vZmYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAkKCcudHJkLW5hdi1zZWFyY2gtYnRuJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAkKCcudHJkLW5hdi1zZWFyY2gnKS50b2dnbGVDbGFzcygnc2hvdycpO1xuICAgICAgfSk7XG4gICAgICAkKCcudHJkLW5hdi1taWQtbGVmdCcpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbGV0IHNjcm9sbCA9IGZuLm5hdl9zY3JvbGxfbGVmdCgpO1xuICAgICAgICAkKCcudHJkLW5hdi1yZWdpb25zJykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsIC0gMTAwXG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfSk7XG4gICAgICAkKCcudHJkLW5hdi1taWQtcmlnaHQnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGxldCBzY3JvbGwgPSBmbi5uYXZfc2Nyb2xsX2xlZnQoKTtcbiAgICAgICAgJCgnLnRyZC1uYXYtcmVnaW9ucycpLmFuaW1hdGUoe1xuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbCArIDEwMFxuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH0pO1xuICAgICAgJCgnLnRyZC1uYXYtcmVnaW9ucycpLm9uKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgIGZuLm5hdl9zY3JvbGxfbGVmdCgpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIG5hdl9zY3JvbGxfbGVmdCgpe1xuICAgICAgbGV0IGxzY3JvbGwgPSAkKCcudHJkLW5hdi1yZWdpb25zJykuc2Nyb2xsTGVmdCgpO1xuICAgICAgbGV0IHJzY3JvbGwgPSBmbi5nZXRfdG90YWxfbmF2X2l0ZW1fd2lkdGgoKTtcbiAgICAgIGxldCB3aWR0aCAgID0gd2luZG93Lm5hdl9yZWdpb25zX3dpZHRoO1xuICAgICAgaWYoIGxzY3JvbGwgPiAwKXtcbiAgICAgICAgJCgnLnRyZC1uYXYtbWlkJykuYWRkQ2xhc3MoJ3Nob3ctbGVmdCcpO1xuICAgICAgfWVsc2V7XG4gICAgICAgICQoJy50cmQtbmF2LW1pZCcpLnJlbW92ZUNsYXNzKCdzaG93LWxlZnQnKTtcbiAgICAgIH1cbiAgICAgIGlmKCByc2Nyb2xsIDw9ICh3aWR0aCArIGxzY3JvbGwpICl7XG4gICAgICAgICQoJy50cmQtbmF2LW1pZCcpLnJlbW92ZUNsYXNzKCdzaG93LXJpZ2h0Jyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJCgnLnRyZC1uYXYtbWlkJykuYWRkQ2xhc3MoJ3Nob3ctcmlnaHQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsc2Nyb2xsO1xuICAgIH0sXG5cbiAgICBnZXRfdG90YWxfbmF2X2l0ZW1fd2lkdGgoKXtcbiAgICAgIGlmKCF3aW5kb3cubmF2X2l0ZW1fd2lkdGgpe1xuICAgICAgICB3aW5kb3cubmF2X3JlZ2lvbnNfd2lkdGggPSAkKCcudHJkLW5hdi1yZWdpb25zJykud2lkdGgoKTtcbiAgICAgICAgd2luZG93Lm5hdl9pdGVtX3dpZHRoID0gMDtcbiAgICAgICAgJCgnLnRyZC1uYXYtcmVnaW9ucyAudHJkLW5hdi1pdGVtJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICB3aW5kb3cubmF2X2l0ZW1fd2lkdGggKz0gJCh0aGlzKS53aWR0aCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aW5kb3cubmF2X2l0ZW1fd2lkdGg7XG4gICAgfVxuICB9O1xuXG4gIGZuLmluaXQoKTtcbn07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCBvcHRpb25zICl7XG5cbiAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgbWVzc2FnZVRpbWVvdXQ6ICA1MDAwLCAvLyA1IHNlY29uZHNcbiAgICBmaXhlZEVtYmVkVGltZXI6IDMwMDAgIC8vIDMgc2Vjb25kc1xuICB9O1xuXG4gIGxldCBlbHM7XG4gIGxldCBmbjtcbiAgbGV0IGhhbmRsZXJzO1xuICBsZXQgbyA9IE9iamVjdC5hc3NpZ24oIGRlZmF1bHRzLCBvcHRpb25zICk7XG5cbiAgZWxzID0ge1xuICAgICR3aWRnZXRTbGlkZTogJCgnLm5ld3NsZXR0ZXItc2xpZGUnKSxcbiAgICAkd2lkZ2V0U2xpZGVDbG9zZTogJCgnLm5ld3NsZXR0ZXItc2xpZGUtY2xvc2UtYnRuJyksXG4gICAgJGZvcm06ICAgICAgICAkKCcubmV3c2xldHRlci1mb3JtJyksXG4gICAgJGNsb3NlOiAgICAgICAkKCcjbmV3c2xldHRlci1mb3JtLWNsb3NlLWJ0bicpLFxuICAgICRidG46ICAgICAgICAgJCgnLm5ld3NsZXR0ZXItZm9ybScpLmZpbmQoJ2J1dHRvblt0eXBlPXN1Ym1pdF0nKSxcbiAgICAkc3ViQWxsOiAgICAgJCgnI25ld3NsZXR0ZXJfc3Vic2NyaWJlX2FsbCcpLFxuICAgICR3aWRnZXQ6ICAgICAgJCgnZm9ybVtuYW1lPW1jLWVtYmVkZGVkLXN1YnNjcmliZS1mb3JtXSwgLm5ld3NsZXR0ZXIgLndpZGdldC1lbWJlZC1mb3JtJyksXG4gICAgJG5hdmxpbms6ICAgICAkKCcudHJkLW5hdi1saW5rW2hyZWYqPVwiL25ld3NsZXR0ZXIvXCJdJyksXG4gICAgJGVtYmVkX2Nsb3NlOiAkKCcud2lkZ2V0LWVtYmVkLWNsb3NlJyksXG4gICAgJGZpeGVkV2lkZ2V0OiAkKCcubmV3c2xldHRlci53aWRnZXQtZW1iZWQud2lkZ2V0LWZpeGVkJylcbiAgfTtcblxuICBmbiA9IHtcbiAgICBpbml0ICgpIHtcbiAgICAgIGxldCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpe1xuICAgICAgICAgIGZuLmV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgICBpZiggJChkb2N1bWVudCkud2lkdGgoKSA+IDEwNDAgKXtcbiAgICAgICAgICAgIGZuLmZpeGVkRW1iZWQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgfSxcblxuICAgIGV2ZW50TGlzdGVuZXIgKCkge1xuICAgICAgZWxzLiRmb3JtLm9uKCAnc3VibWl0JywgaGFuZGxlcnMuc2F2ZSApO1xuICAgICAgZWxzLiR3aWRnZXQub24oICdzdWJtaXQnLCBoYW5kbGVycy5sb2FkV2lkZ2V0Rm9ybSApO1xuICAgICAgZWxzLiRuYXZsaW5rLm9uKCAnY2xpY2snLCBoYW5kbGVycy5sb2FkV2lkZ2V0Rm9ybSApO1xuICAgICAgZWxzLiRlbWJlZF9jbG9zZS5vbiggJ2NsaWNrJywgaGFuZGxlcnMuY2xvc2VGaXhlZFdpZGdldCApO1xuICAgICAgZWxzLiRzdWJBbGwub24oICdjaGFuZ2UnLCBoYW5kbGVycy5zdWJzY3JpYmVBbGwgKTtcbiAgICAgIGVscy4kd2lkZ2V0U2xpZGVDbG9zZS5vbiggJ2NsaWNrJywgaGFuZGxlcnMuY2xvc2UgKTtcbiAgICB9LFxuXG4gICAgcmVnaXN0ZXJFbHMgKCkge1xuICAgICAgZWxzLiR3aWRnZXRTbGlkZSA9ICQoJy5uZXdzbGV0dGVyLXNsaWRlJyk7XG4gICAgICBlbHMuJHdpZGdldFNsaWRlQ2xvc2UgPSAkKCcubmV3c2xldHRlci1zbGlkZS1jbG9zZS1idG4nKTtcbiAgICAgIGVscy4kZm9ybSAgICAgICAgPSAkKCcubmV3c2xldHRlci1mb3JtJyk7XG4gICAgICBlbHMuJGNsb3NlICAgICAgID0gJCgnI25ld3NsZXR0ZXItZm9ybS1jbG9zZS1idG4nKTtcbiAgICAgIGVscy4kYnRuICAgICAgICAgPSAkKCcubmV3c2xldHRlci1mb3JtJykuZmluZCgnYnV0dG9uW3R5cGU9c3VibWl0XScpO1xuICAgICAgZWxzLiRzdWJBbGwgICAgICA9ICQoJyNuZXdzbGV0dGVyX3N1YnNjcmliZV9hbGwnKTtcbiAgICAgIGZuLmV2ZW50TGlzdGVuZXIoKTtcbiAgICB9LFxuXG4gICAgZml4ZWRFbWJlZCAoKSB7XG4gICAgICBpZiggZWxzLiRmaXhlZFdpZGdldC5sZW5ndGggKXtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaGFuZGxlcnMuc2hvd0ZpeGVkV2lkZ2V0KCk7XG4gICAgICAgIH0sIG8uZml4ZWRFbWJlZFRpbWVyKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd1dpZGdldEZvcm0gKCBlbWFpbCApIHtcbiAgICAgIGVscy4kc3ViQWxsLnByb3AoICdjaGVja2VkJywgdHJ1ZSApLnRyaWdnZXIoICdjaGFuZ2UnICk7XG4gICAgICAkKCAnaGVhZGVyLnRyZC1oZWFkZXIsIC5hZG1pbi1iYXInICkuYWRkQ2xhc3MoICd6ZG93bicgKTtcbiAgICAgIGlmKCAkKGRvY3VtZW50KS53aWR0aCgpIDwgNzgyICl7XG4gICAgICAgICQoJ2h0bWwsYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1vZmYnKTtcbiAgICAgIH1cbiAgICAgIGVscy4kd2lkZ2V0U2xpZGUuYWRkQ2xhc3MoICdzaG93JyApO1xuICAgICAgZWxzLiRmb3JtLmZpbmQoICdpbnB1dFt0eXBlPWVtYWlsXScgKS52YWwoIGVtYWlsICk7XG4gICAgICBzZXRUaW1lb3V0ICgoKSA9PiB7XG4gICAgICAgIGVscy4kZm9ybS5vbiggJ3N1Ym1pdCcsIGhhbmRsZXJzLnNhdmUgKTtcbiAgICAgICAgZWxzLiRmb3JtLm9uKCAncmVzZXQnLCBoYW5kbGVycy5jbG9zZSApO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZXJzID0ge1xuICAgIHNhdmUgKCBlICkge1xuICAgICAgZWxzLiRidG4gPSBlbHMuJGZvcm0uZmluZCgnYnV0dG9uW3R5cGU9c3VibWl0XScpO1xuICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICdhY3Rpb24nOiAgICduZXdzbGV0dGVyX3N1YnNjcmliZScsXG4gICAgICAgICdzZWN1cml0eSc6IHRyZF9hamF4LnNlY3VyaXR5LFxuICAgICAgICAnZGF0YSc6ICAgICB7fVxuICAgICAgfTtcbiAgICAgIGVscy4kZm9ybS5maW5kKCAnaW5wdXQnICkuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCB2YWwgID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgbGV0IG5hbWUgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKTtcbiAgICAgICAgbGV0IHR5cGUgPSAkKHRoaXMpLmF0dHIoJ3R5cGUnKTtcbiAgICAgICAgaWYoICdjaGVja2JveCcgPT09IHR5cGUgKSB7XG4gICAgICAgICAgaWYoIG5hbWUgIT09ICdzdWJzY3JpYmVfYWxsJykge1xuICAgICAgICAgICAgZGF0YS5kYXRhWyBuYW1lIF0gPSAkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCAkLnRyaW0oIHZhbCApICE9PSAnJyApIHtcbiAgICAgICAgICBkYXRhLmRhdGFbIG5hbWUgXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBlbHMuJGJ0bi50ZXh0KCdTdWJzY3JpYmluZy4uLicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICBqUXVlcnkucG9zdCggdHJkX2FqYXgudXJsLCBkYXRhLCBmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgIGVscy4kYnRuLnRleHQoJ1N1YnNjcmliZScpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICQoJy5uZXdzbGV0dGVyLWZvcm0tYnV0dG9uJykuaGlkZSgpO1xuICAgICAgICBpZiggcmVzcG9uc2Uuc3VjY2VzcyApe1xuICAgICAgICAgICQoJy5uZXdzbGV0dGVyLWZvcm0tc3VjY2VzcycpLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCcubmV3c2xldHRlci1mb3JtLWVycm9yJykuc2hvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCgnLm5ld3NsZXR0ZXItZm9ybS1zdWNjZXNzLC5uZXdzbGV0dGVyLWZvcm0tZXJyb3InKS5oaWRlKCk7XG4gICAgICAgICAgJCgnLm5ld3NsZXR0ZXItZm9ybS1idXR0b24nKS5zaG93KCk7XG4gICAgICAgIH0sIG8ubWVzc2FnZVRpbWVvdXQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGxvYWRXaWRnZXRGb3JtIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgJ2FjdGlvbic6ICAgJ25ld3NsZXR0ZXJfd2lkZ2V0X2Zvcm0nLFxuICAgICAgICAnc2VjdXJpdHknOiB0cmRfYWpheC5zZWN1cml0eVxuICAgICAgfTtcbiAgICAgIGxldCB3aWRnZXQgPSAkKHRoaXMpO1xuICAgICAgbGV0IGVtYWlsID0gd2lkZ2V0LmZpbmQoJ2lucHV0W3R5cGU9ZW1haWxdLCBpbnB1dFtuYW1lPUVNQUlMXScpLnZhbCgpO1xuICAgICAgaWYoICQoJy5uZXdzbGV0dGVyLWZvcm0ucGFnZScpLmxlbmd0aCApe1xuICAgICAgICAkKCcubmV3c2xldHRlci1mb3JtLnBhZ2UnKS5maW5kKCdpbnB1dFt0eXBlPWVtYWlsXScpLnZhbCggZW1haWwgKS5mb2N1cygpO1xuICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sIDUwMCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCBlbHMuJHdpZGdldFNsaWRlLmxlbmd0aCApe1xuICAgICAgICBmbi5zaG93V2lkZ2V0Rm9ybSggZW1haWwgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpRdWVyeS5wb3N0KCB0cmRfYWpheC51cmwsIGRhdGEsIGZ1bmN0aW9uKCByZXNwb25zZSApIHtcbiAgICAgICAgICBpZiggcmVzcG9uc2UgKXtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoIHJlc3BvbnNlICk7XG4gICAgICAgICAgICBmbi5zaG93V2lkZ2V0Rm9ybSggZW1haWwgKTtcbiAgICAgICAgICAgIGZuLnJlZ2lzdGVyRWxzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgY2xvc2UgKCBlICkge1xuICAgICAgZWxzLiR3aWRnZXRTbGlkZS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgZWxzLiRzdWJBbGwucHJvcCgnY2hlY2tlZCcsIHRydWUpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgJCgnaHRtbCxib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LW9mZicpO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICQoJ2hlYWRlci50cmQtaGVhZGVyLCAuYWRtaW4tYmFyJykucmVtb3ZlQ2xhc3MoJ3pkb3duJyk7XG4gICAgICB9LCA1MDApO1xuICAgIH0sXG5cbiAgICBjbG9zZUZpeGVkV2lkZ2V0ICggZSApIHtcbiAgICAgICQoJy5uZXdzbGV0dGVyLndpZGdldC1lbWJlZC53aWRnZXQtZml4ZWQnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgIH0sXG5cbiAgICBzaG93Rml4ZWRXaWRnZXQgKCBlICkge1xuICAgICAgJCgnLm5ld3NsZXR0ZXIud2lkZ2V0LWVtYmVkLndpZGdldC1maXhlZCcpLmFkZENsYXNzKCdzaG93Jyk7XG4gICAgfSxcblxuICAgIHN1YnNjcmliZUFsbCAoIGUgKSB7XG4gICAgICBsZXQgY2hlY2tlZCA9ICQodGhpcykucHJvcChcImNoZWNrZWRcIik7XG4gICAgICBlbHMuJGZvcm0uZmluZCgnLmNoZWNrYm94ZXMgaW5wdXRbdHlwZT1jaGVja2JveF0nKS5wcm9wKCdjaGVja2VkJywgY2hlY2tlZCk7XG4gICAgfVxuICB9O1xuXG4gIGZuLmluaXQoKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuY29uc29sZS5pbmZvKCdUUkQgQ29yZSBMb2FkZWQnKTtcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4vX25hdmlnYXRpb24nO1xuaW1wb3J0IE5ld3NsZXR0ZXIgZnJvbSAnLi9fbmV3c2xldHRlcic7XG5OYXZpZ2F0aW9uKCk7XG5OZXdzbGV0dGVyKCk7Il19\n"]}