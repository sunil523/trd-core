{"version":3,"sources":["trd-core.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","value","options","fn","handlers","defaults","messageTimeout","fixedEmbedTimer","navPosition","$","offset","top","prevScrollposInit","prevScrollpos","assign","init","piano_timer","setInterval","window","tp","piano","clearInterval","nav_timer","jQuery","trd_nav","eventListener","on","navFixed","push","pianoId","isUserValid","addClass","removeClass","event","preventDefault","logout","location","reload","show","screen","displayMode","loggedIn","this","hasClass","toggleClass","scroll","nav_scroll_left","animate","scrollLeft","lscroll","rscroll","get_total_nav_item_width","width","nav_regions_width","nav_item_width","each","document","scrollTop","2","els","$slideForm","$slideFormClose","$form","$close","$btn","find","$widget","$navlink","$embed_close","$fixedWidget","$subscribeSubmit","timer","registerEls","save","loadSlideForm","fixedWidgetClose","close","showSlideForm","email","val","setTimeout","trackEvent","category","action","label","dataLayer","trd.action","trd.category","trd.label","trd.value","fbq","data","security","trd_ajax","name","attr","is","trim","text","post","url","response","removeAttr","hide","success","widget","prop","focus","append","type","showFixedWidget","3","_navigation","_interopRequireDefault","_newsletter","__esModule","default","console","info","trd","nav","newsletter","./_navigation","./_newsletter"],"mappings":"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","file":"trd-core.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = _default;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _default(options) {\n  var defaults = {\n    messageTimeout: 5000,\n    // 5 seconds\n    fixedEmbedTimer: 3000,\n    // 3 seconds\n    navPosition: $('.trd-nav').offset().top,\n    prevScrollposInit: 130,\n    prevScrollpos: 130\n  };\n  var els;\n  var fn;\n  var handlers;\n  var o = Object.assign(defaults, options);\n  fn = {\n    init: function init() {\n      var piano_timer = setInterval(function () {\n        if (_typeof(window.tp) === 'object') {\n          fn.piano();\n          clearInterval(piano_timer);\n        }\n      }, 500);\n      var nav_timer = setInterval(function () {\n        if (typeof window.jQuery === 'function') {\n          fn.trd_nav();\n          clearInterval(nav_timer);\n        }\n      }, 500);\n      fn.eventListener();\n    },\n    eventListener: function eventListener() {\n      $(window).on('scroll', handlers.navFixed);\n    },\n    piano: function piano() {\n      window.tp.push([\"init\", function () {\n        if ($('.trd-nav-account-login, .trd-nav-account-logout') != null) {\n          if (window.tp.pianoId.isUserValid()) {\n            $('.trd-header.trd-nav').addClass('trd-nav-loggedin');\n            $('.trd-nav-account-login').addClass('hide');\n            $('.trd-nav-account-logout').removeClass('hide');\n            $('.trd-nav-account-logout a[href*=\"/#logout\"]').on('click', function (event) {\n              event.preventDefault();\n              window.tp.pianoId.logout();\n              window.location.reload();\n            });\n          } else {\n            $('.trd-nav-account-logout').addClass('hide');\n            $('.trd-nav-account-login').removeClass('hide');\n            $('.trd-nav-account-login a[href*=\"/#login\"]').on('click', function (event) {\n              event.preventDefault();\n              window.tp.pianoId.show({\n                screen: 'login',\n                displayMode: 'modal',\n                loggedIn: function loggedIn() {\n                  window.location.reload();\n                }\n              });\n              return false;\n            });\n          }\n        }\n      }]);\n    },\n    trd_nav: function trd_nav() {\n      $('.trd-nav-menu-btn').on('click', function () {\n        if ($(this).hasClass('close')) {\n          $('.trd-nav-secondary').removeClass('show');\n          $('html,body').removeClass('overflow-off');\n        } else {\n          $('.trd-nav-secondary').addClass('show');\n          $('html,body').addClass('overflow-off');\n        }\n      });\n      $('.trd-nav-search-btn').on('click', function () {\n        $('.trd-nav-search').toggleClass('show');\n      });\n      $('.trd-nav-mid-left').on('click', function () {\n        var scroll = fn.nav_scroll_left();\n        $('.trd-nav-regions').animate({\n          scrollLeft: scroll - 100\n        }, 1000);\n      });\n      $('.trd-nav-mid-right').on('click', function () {\n        var scroll = fn.nav_scroll_left();\n        $('.trd-nav-regions').animate({\n          scrollLeft: scroll + 100\n        }, 1000);\n      });\n      $('.trd-nav-regions').on('scroll', function () {\n        fn.nav_scroll_left();\n      });\n    },\n    nav_scroll_left: function nav_scroll_left() {\n      var lscroll = $('.trd-nav-regions').scrollLeft();\n      var rscroll = fn.get_total_nav_item_width();\n      var width = window.nav_regions_width;\n\n      if (lscroll > 0) {\n        $('.trd-nav-mid').addClass('show-left');\n      } else {\n        $('.trd-nav-mid').removeClass('show-left');\n      }\n\n      if (rscroll <= width + lscroll) {\n        $('.trd-nav-mid').removeClass('show-right');\n      } else {\n        $('.trd-nav-mid').addClass('show-right');\n      }\n\n      return lscroll;\n    },\n    get_total_nav_item_width: function get_total_nav_item_width() {\n      if (!window.nav_item_width) {\n        window.nav_regions_width = $('.trd-nav-regions').width();\n        window.nav_item_width = 0;\n        $('.trd-nav-regions .trd-nav-item').each(function () {\n          window.nav_item_width += $(this).width();\n        });\n      }\n\n      return window.nav_item_width;\n    }\n  };\n  handlers = {\n    navFixed: function navFixed(e) {\n      var width = $(document).width();\n      var scrollTop = $(window).scrollTop();\n\n      if (scrollTop > o.navPosition) {\n        $('body').addClass('is-sticky');\n      } else {\n        $('body').removeClass('is-sticky');\n      }\n\n      if (scrollTop >= o.navPosition) {\n        if (o.prevScrollpos < scrollTop) {\n          $(\"body\").addClass('is-move-out');\n        } else {\n          $(\"body\").removeClass('is-move-out');\n        }\n\n        if (o.prevScrollposInit < scrollTop) {\n          o.prevScrollpos = scrollTop;\n        }\n      }\n    }\n  };\n  fn.init();\n}\n\n;\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = _default;\n\nfunction _default(options) {\n  var defaults = {\n    messageTimeout: 5000,\n    // 5 seconds\n    fixedEmbedTimer: 3000 // 3 seconds\n\n  };\n  var els;\n  var fn;\n  var handlers;\n  var o = Object.assign(defaults, options);\n  els = {\n    $slideForm: $('.newsletter-slide'),\n    $slideFormClose: $('.newsletter-slide-close-btn'),\n    $form: $('.newsletter-form'),\n    $close: $('#newsletter-form-close-btn'),\n    $btn: $('.newsletter-form').find('button[type=submit]'),\n    $widget: $('form[name=mc-embedded-subscribe-form], .newsletter .widget-embed-form'),\n    $navlink: $('.trd-nav-link[href*=\"/newsletter/\"]'),\n    $embed_close: $('.widget-embed-close'),\n    $fixedWidget: $('.newsletter.widget-embed.widget-fixed'),\n    $subscribeSubmit: false\n  };\n  fn = {\n    init: function init() {\n      var timer = setInterval(function () {\n        if (window.jQuery) {\n          fn.eventListener();\n          clearInterval(timer);\n        }\n      }, 500);\n    },\n    registerEls: function registerEls() {\n      els.$slideForm = $('.newsletter-slide');\n      els.$slideFormClose = $('.newsletter-slide-close-btn');\n      els.$form = $('.newsletter-form');\n      els.$close = $('#newsletter-form-close-btn');\n      els.$btn = $('.newsletter-form').find('button[type=submit]');\n      fn.eventListener();\n    },\n    eventListener: function eventListener() {\n      els.$form.on('submit', handlers.save);\n      els.$widget.on('submit', handlers.loadSlideForm);\n      els.$navlink.on('click', handlers.loadSlideForm);\n      els.$embed_close.on('click', handlers.fixedWidgetClose);\n      els.$slideFormClose.on('click', handlers.close);\n    },\n    showSlideForm: function showSlideForm(email) {\n      var width = $(document).width();\n      $('header.trd-header, .admin-bar').addClass('zdown');\n      if (width > 782) $('html,body').addClass('move-over');\n      if (width < 782) $('html,body').addClass('overflow-off');\n      els.$slideForm.addClass('show');\n      els.$form.find('input[type=email]').val(email);\n      setTimeout(function () {\n        els.$form.on('submit', handlers.save);\n        els.$form.on('reset', handlers.close);\n      }, 1000);\n    },\n    trackEvent: function trackEvent(category, action, label, value) {\n      if (typeof dataLayer != 'undefined') {\n        dataLayer.push({\n          'event': category,\n          'trd.action': action,\n          'trd.category': category,\n          'trd.label': label,\n          'trd.value': value\n        });\n      }\n\n      if (typeof fbq != 'undefined') {\n        fbq('trackCustom', category, {\n          'trd.action': action,\n          'trd.label': label,\n          'trd.value': value\n        });\n      }\n    }\n  };\n  handlers = {\n    save: function save(e) {\n      if (els.$subscribeSubmit) return false;\n      els.$subscribeSubmit = true;\n      els.$btn = els.$form.find('button[type=submit]');\n      var data = {\n        'action': 'newsletter_subscribe',\n        'security': trd_ajax.security,\n        'data': {}\n      };\n      els.$form.find('input').each(function () {\n        var val = $(this).val();\n        var name = $(this).attr('name');\n        var type = $(this).attr('type');\n\n        if ('checkbox' === type) {\n          if (name !== 'subscribe_all') {\n            data.data[name] = $(this).is(\":checked\");\n          }\n        } else if ($.trim(val) !== '') {\n          data.data[name] = val;\n        }\n      });\n      fn.trackEvent('newsletter_signup', 'subscribe_submit', data.data['place'], 1);\n      els.$btn.text('Subscribing...').attr('disabled', 'disabled');\n      jQuery.post(trd_ajax.url, data, function (response) {\n        els.$subscribeSubmit = false;\n        els.$btn.text('Subscribe').removeAttr('disabled');\n        $('.newsletter-form-button').hide();\n\n        if (response.success) {\n          $('.newsletter-form-success').show();\n          fn.trackEvent('newsletter_signup', 'subscribe_success', data.data['place'], 1);\n        } else {\n          $('.newsletter-form-error').show();\n          fn.trackEvent('newsletter_signup', 'subscribe_failed', data.data['place'], '');\n        }\n\n        setTimeout(function () {\n          $('.newsletter-form-success,.newsletter-form-error').hide();\n          $('.newsletter-form-button').show();\n        }, o.messageTimeout);\n      });\n      return false;\n    },\n    loadSlideForm: function loadSlideForm(e) {\n      e.preventDefault();\n      var name = '';\n      var email = '';\n      var widget = $(this);\n      var data = {\n        'action': 'newsletter_slide_form',\n        'security': trd_ajax.security\n      };\n\n      if (widget.prop('tagName') === 'FORM') {\n        name = widget.attr('name');\n        email = widget.find('input[type=email], input[name=EMAIL]').val();\n      } else if (widget.prop('tagName') === 'A') {\n        name = widget.attr('class');\n      }\n\n      if ($('.newsletter-form.page').length) {\n        $('.newsletter-form.page').find('input[type=email]').val(email).focus();\n        $('html,body').animate({\n          scrollTop: 0\n        }, 500);\n      } else if (els.$slideForm.length) {\n        fn.showSlideForm(email);\n      } else {\n        jQuery.post(trd_ajax.url, data, function (response) {\n          if (response) {\n            $('body').append(response);\n            fn.showSlideForm(email);\n            fn.registerEls();\n          }\n        });\n      }\n\n      fn.trackEvent('newsletter_signup', 'open_' + e.type, name, 1);\n      return false;\n    },\n    close: function close(e) {\n      handlers.fixedWidgetClose(e);\n      els.$slideForm.removeClass('show');\n      $('body').removeClass('move-over');\n      $('html,body').removeClass('overflow-off');\n      setTimeout(function () {\n        $('header.trd-header, .admin-bar').removeClass('zdown');\n      }, 500);\n    },\n    fixedWidgetClose: function fixedWidgetClose(e) {\n      $('.newsletter.widget-embed.widget-fixed').removeClass('show');\n    },\n    showFixedWidget: function showFixedWidget(e) {\n      $('.newsletter.widget-embed.widget-fixed').addClass('show');\n    }\n  };\n  fn.init();\n}\n\n;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nvar _navigation = _interopRequireDefault(require(\"./_navigation\"));\n\nvar _newsletter = _interopRequireDefault(require(\"./_newsletter\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nconsole.info('TRD Core Loaded');\nwindow.trd = window.trd || {};\nwindow.trd.fn = window.trd.fn || {};\nwindow.trd.fn.nav = _navigation[\"default\"];\nwindow.trd.fn.newsletter = _newsletter[\"default\"];\nwindow.trd.nav = new _navigation[\"default\"]();\nwindow.trd.newsletter = new _newsletter[\"default\"]();\n\n},{\"./_navigation\":1,\"./_newsletter\":2}]},{},[3])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvX25hdmlnYXRpb24uanMiLCJzcmMvanMvX25ld3NsZXR0ZXIuanMiLCJzcmMvanMvdHJkLWNvcmUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7QUNBZSxrQkFBVyxPQUFYLEVBQW9CO0FBRWpDLE1BQU0sUUFBUSxHQUFHO0FBQ2YsSUFBQSxjQUFjLEVBQUcsSUFERjtBQUNRO0FBQ3ZCLElBQUEsZUFBZSxFQUFFLElBRkY7QUFFUTtBQUN2QixJQUFBLFdBQVcsRUFBRSxDQUFDLENBQUMsVUFBRCxDQUFELENBQWMsTUFBZCxHQUF1QixHQUhyQjtBQUlmLElBQUEsaUJBQWlCLEVBQUUsR0FKSjtBQUtmLElBQUEsYUFBYSxFQUFFO0FBTEEsR0FBakI7QUFRQSxNQUFJLEdBQUo7QUFDQSxNQUFJLEVBQUo7QUFDQSxNQUFJLFFBQUo7QUFDQSxNQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBUCxDQUFlLFFBQWYsRUFBeUIsT0FBekIsQ0FBUjtBQUVBLEVBQUEsRUFBRSxHQUFHO0FBQ0gsSUFBQSxJQURHLGtCQUNJO0FBQ0wsVUFBSSxXQUFXLEdBQUcsV0FBVyxDQUFDLFlBQU07QUFDbEMsWUFBSyxRQUFPLE1BQU0sQ0FBQyxFQUFkLE1BQXFCLFFBQTFCLEVBQW9DO0FBQ2xDLFVBQUEsRUFBRSxDQUFDLEtBQUg7QUFDQSxVQUFBLGFBQWEsQ0FBRSxXQUFGLENBQWI7QUFDRDtBQUNGLE9BTDRCLEVBSzFCLEdBTDBCLENBQTdCO0FBT0EsVUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLFlBQU07QUFDaEMsWUFBSyxPQUFPLE1BQU0sQ0FBQyxNQUFkLEtBQXlCLFVBQTlCLEVBQTBDO0FBQ3hDLFVBQUEsRUFBRSxDQUFDLE9BQUg7QUFDQSxVQUFBLGFBQWEsQ0FBRSxTQUFGLENBQWI7QUFDRDtBQUNGLE9BTDBCLEVBS3hCLEdBTHdCLENBQTNCO0FBTUEsTUFB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LENBQUMsdUNBQUQsQ0FBRCxDQUEyQyxRQUEzQyxDQUFvRCxNQUFwRDtBQUNEO0FBOUZRLEdBQVg7QUFrR0EsRUFBQSxFQUFFLENBQUMsSUFBSDtBQUNEOztBQUFBOzs7QUN4TEQ7O0FBRUE7O0FBQ0E7Ozs7QUFGQSxPQUFPLENBQUMsSUFBUixDQUFhLGlCQUFiO0FBSUEsTUFBTSxDQUFDLEdBQVAsR0FBMkIsTUFBTSxDQUFDLEdBQVAsSUFBYyxFQUF6QztBQUNBLE1BQU0sQ0FBQyxHQUFQLENBQVcsRUFBWCxHQUEyQixNQUFNLENBQUMsR0FBUCxDQUFXLEVBQVgsSUFBaUIsRUFBNUM7QUFDQSxNQUFNLENBQUMsR0FBUCxDQUFXLEVBQVgsQ0FBYyxHQUFkLEdBQTJCLHNCQUEzQjtBQUNBLE1BQU0sQ0FBQyxHQUFQLENBQVcsRUFBWCxDQUFjLFVBQWQsR0FBMkIsc0JBQTNCO0FBRUEsTUFBTSxDQUFDLEdBQVAsQ0FBVyxHQUFYLEdBQXdCLElBQUksc0JBQUosRUFBeEI7QUFDQSxNQUFNLENBQUMsR0FBUCxDQUFXLFVBQVgsR0FBd0IsSUFBSSxzQkFBSixFQUF4QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICggb3B0aW9ucyApe1xuXG4gIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgIG1lc3NhZ2VUaW1lb3V0OiAgNTAwMCwgLy8gNSBzZWNvbmRzXG4gICAgZml4ZWRFbWJlZFRpbWVyOiAzMDAwLCAvLyAzIHNlY29uZHNcbiAgICBuYXZQb3NpdGlvbjogJCgnLnRyZC1uYXYnKS5vZmZzZXQoKS50b3AsXG4gICAgcHJldlNjcm9sbHBvc0luaXQ6IDEzMCxcbiAgICBwcmV2U2Nyb2xscG9zOiAxMzBcbiAgfTtcblxuICBsZXQgZWxzO1xuICBsZXQgZm47XG4gIGxldCBoYW5kbGVycztcbiAgbGV0IG8gPSBPYmplY3QuYXNzaWduKCBkZWZhdWx0cywgb3B0aW9ucyApO1xuXG4gIGZuID0ge1xuICAgIGluaXQoKSB7XG4gICAgICBsZXQgcGlhbm9fdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICggdHlwZW9mIHdpbmRvdy50cCA9PT0gJ29iamVjdCcgKXtcbiAgICAgICAgICBmbi5waWFubygpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIHBpYW5vX3RpbWVyICk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgICBcbiAgICAgIGxldCBuYXZfdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIGlmICggdHlwZW9mIHdpbmRvdy5qUXVlcnkgPT09ICdmdW5jdGlvbicgKXtcbiAgICAgICAgICBmbi50cmRfbmF2KCk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbCggbmF2X3RpbWVyICk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgICBmbi5ldmVudExpc3RlbmVyKCk7XG4gICAgfSxcblxuICAgIGV2ZW50TGlzdGVuZXIgKCkge1xuICAgICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBoYW5kbGVycy5uYXZGaXhlZCApO1xuICAgIH0sXG5cbiAgICBcbiAgICBwaWFubygpIHtcbiAgICAgIHdpbmRvdy50cC5wdXNoKFtcImluaXRcIiwgZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoICQoJy50cmQtbmF2LWFjY291bnQtbG9naW4sIC50cmQtbmF2LWFjY291bnQtbG9nb3V0JykgIT0gbnVsbCApIHtcbiAgICAgICAgICBpZiggd2luZG93LnRwLnBpYW5vSWQuaXNVc2VyVmFsaWQoKSApIHtcbiAgICAgICAgICAgICQoJy50cmQtaGVhZGVyLnRyZC1uYXYnKS5hZGRDbGFzcygndHJkLW5hdi1sb2dnZWRpbicpO1xuICAgICAgICAgICAgJCgnLnRyZC1uYXYtYWNjb3VudC1sb2dpbicpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICAkKCcudHJkLW5hdi1hY2NvdW50LWxvZ291dCcpLnJlbW92ZUNsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICAkKCcudHJkLW5hdi1hY2NvdW50LWxvZ291dCBhW2hyZWYqPVwiLyNsb2dvdXRcIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgd2luZG93LnRwLnBpYW5vSWQubG9nb3V0KCk7XG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcudHJkLW5hdi1hY2NvdW50LWxvZ291dCcpLmFkZENsYXNzKCdoaWRlJyk7XG4gICAgICAgICAgICAkKCcudHJkLW5hdi1hY2NvdW50LWxvZ2luJykucmVtb3ZlQ2xhc3MoJ2hpZGUnKTtcbiAgICAgICAgICAgICQoJy50cmQtbmF2LWFjY291bnQtbG9naW4gYVtocmVmKj1cIi8jbG9naW5cIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgd2luZG93LnRwLnBpYW5vSWQuc2hvdyh7XG4gICAgICAgICAgICAgICAgc2NyZWVuOiAgICAgICdsb2dpbicsXG4gICAgICAgICAgICAgICAgZGlzcGxheU1vZGU6ICdtb2RhbCcsXG4gICAgICAgICAgICAgICAgbG9nZ2VkSW46ICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1dKTtcbiAgICB9LFxuXG4gICAgdHJkX25hdigpIHtcbiAgICAgICQoJy50cmQtbmF2LW1lbnUtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2Nsb3NlJykpe1xuICAgICAgICAgICQoJy50cmQtbmF2LXNlY29uZGFyeScpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG4gICAgICAgICAgJCgnaHRtbCxib2R5JykucmVtb3ZlQ2xhc3MoJ292ZXJmbG93LW9mZicpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAkKCcudHJkLW5hdi1zZWNvbmRhcnknKS5hZGRDbGFzcygnc2hvdycpO1xuICAgICAgICAgICQoJ2h0bWwsYm9keScpLmFkZENsYXNzKCdvdmVyZmxvdy1vZmYnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAkKCcudHJkLW5hdi1zZWFyY2gtYnRuJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAkKCcudHJkLW5hdi1zZWFyY2gnKS50b2dnbGVDbGFzcygnc2hvdycpO1xuICAgICAgfSk7XG4gICAgICAkKCcudHJkLW5hdi1taWQtbGVmdCcpLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbGV0IHNjcm9sbCA9IGZuLm5hdl9zY3JvbGxfbGVmdCgpO1xuICAgICAgICAkKCcudHJkLW5hdi1yZWdpb25zJykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsIC0gMTAwXG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfSk7XG4gICAgICAkKCcudHJkLW5hdi1taWQtcmlnaHQnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGxldCBzY3JvbGwgPSBmbi5uYXZfc2Nyb2xsX2xlZnQoKTtcbiAgICAgICAgJCgnLnRyZC1uYXYtcmVnaW9ucycpLmFuaW1hdGUoe1xuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbCArIDEwMFxuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH0pO1xuICAgICAgJCgnLnRyZC1uYXYtcmVnaW9ucycpLm9uKCdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgIGZuLm5hdl9zY3JvbGxfbGVmdCgpO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIG5hdl9zY3JvbGxfbGVmdCgpe1xuICAgICAgbGV0IGxzY3JvbGwgPSAkKCcudHJkLW5hdi1yZWdpb25zJykuc2Nyb2xsTGVmdCgpO1xuICAgICAgbGV0IHJzY3JvbGwgPSBmbi5nZXRfdG90YWxfbmF2X2l0ZW1fd2lkdGgoKTtcbiAgICAgIGxldCB3aWR0aCAgID0gd2luZG93Lm5hdl9yZWdpb25zX3dpZHRoO1xuICAgICAgaWYoIGxzY3JvbGwgPiAwKXtcbiAgICAgICAgJCgnLnRyZC1uYXYtbWlkJykuYWRkQ2xhc3MoJ3Nob3ctbGVmdCcpO1xuICAgICAgfWVsc2V7XG4gICAgICAgICQoJy50cmQtbmF2LW1pZCcpLnJlbW92ZUNsYXNzKCdzaG93LWxlZnQnKTtcbiAgICAgIH1cbiAgICAgIGlmKCByc2Nyb2xsIDw9ICh3aWR0aCArIGxzY3JvbGwpICl7XG4gICAgICAgICQoJy50cmQtbmF2LW1pZCcpLnJlbW92ZUNsYXNzKCdzaG93LXJpZ2h0Jyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgJCgnLnRyZC1uYXYtbWlkJykuYWRkQ2xhc3MoJ3Nob3ctcmlnaHQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsc2Nyb2xsO1xuICAgIH0sXG5cbiAgICBnZXRfdG90YWxfbmF2X2l0ZW1fd2lkdGgoKXtcbiAgICAgIGlmKCF3aW5kb3cubmF2X2l0ZW1fd2lkdGgpe1xuICAgICAgICB3aW5kb3cubmF2X3JlZ2lvbnNfd2lkdGggPSAkKCcudHJkLW5hdi1yZWdpb25zJykud2lkdGgoKTtcbiAgICAgICAgd2luZG93Lm5hdl9pdGVtX3dpZHRoID0gMDtcbiAgICAgICAgJCgnLnRyZC1uYXYtcmVnaW9ucyAudHJkLW5hdi1pdGVtJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICB3aW5kb3cubmF2X2l0ZW1fd2lkdGggKz0gJCh0aGlzKS53aWR0aCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aW5kb3cubmF2X2l0ZW1fd2lkdGg7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZXJzID0ge1xuICAgIG5hdkZpeGVkICggZSApIHtcbiAgICAgIGxldCB3aWR0aCA9ICQoZG9jdW1lbnQpLndpZHRoKCk7XG4gICAgICBsZXQgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgICAgaWYoIHNjcm9sbFRvcCA+IG8ubmF2UG9zaXRpb24gKSB7XG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnaXMtc3RpY2t5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2lzLXN0aWNreScpO1xuICAgICAgfVxuICAgICAgaWYoc2Nyb2xsVG9wID49IG8ubmF2UG9zaXRpb24pIHtcbiAgICAgICAgaWYgKG8ucHJldlNjcm9sbHBvcyA8IHNjcm9sbFRvcCkge1xuICAgICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKCdpcy1tb3ZlLW91dCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKCdpcy1tb3ZlLW91dCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmKG8ucHJldlNjcm9sbHBvc0luaXQgPCBzY3JvbGxUb3AgKXtcbiAgICAgICAgICBvLnByZXZTY3JvbGxwb3MgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZm4uaW5pdCgpO1xufTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoIG9wdGlvbnMgKXtcblxuICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICBtZXNzYWdlVGltZW91dDogIDUwMDAsIC8vIDUgc2Vjb25kc1xuICAgIGZpeGVkRW1iZWRUaW1lcjogMzAwMCAgLy8gMyBzZWNvbmRzXG4gIH07XG5cbiAgbGV0IGVscztcbiAgbGV0IGZuO1xuICBsZXQgaGFuZGxlcnM7XG4gIGxldCBvID0gT2JqZWN0LmFzc2lnbiggZGVmYXVsdHMsIG9wdGlvbnMgKTtcblxuICBlbHMgPSB7XG4gICAgJHNsaWRlRm9ybTogJCgnLm5ld3NsZXR0ZXItc2xpZGUnKSxcbiAgICAkc2xpZGVGb3JtQ2xvc2U6ICQoJy5uZXdzbGV0dGVyLXNsaWRlLWNsb3NlLWJ0bicpLFxuICAgICRmb3JtOiAgICAgICAgJCgnLm5ld3NsZXR0ZXItZm9ybScpLFxuICAgICRjbG9zZTogICAgICAgJCgnI25ld3NsZXR0ZXItZm9ybS1jbG9zZS1idG4nKSxcbiAgICAkYnRuOiAgICAgICAgICQoJy5uZXdzbGV0dGVyLWZvcm0nKS5maW5kKCdidXR0b25bdHlwZT1zdWJtaXRdJyksXG4gICAgJHdpZGdldDogICAgICAkKCdmb3JtW25hbWU9bWMtZW1iZWRkZWQtc3Vic2NyaWJlLWZvcm1dLCAubmV3c2xldHRlciAud2lkZ2V0LWVtYmVkLWZvcm0nKSxcbiAgICAkbmF2bGluazogICAgICQoJy50cmQtbmF2LWxpbmtbaHJlZio9XCIvbmV3c2xldHRlci9cIl0nKSxcbiAgICAkZW1iZWRfY2xvc2U6ICQoJy53aWRnZXQtZW1iZWQtY2xvc2UnKSxcbiAgICAkZml4ZWRXaWRnZXQ6ICQoJy5uZXdzbGV0dGVyLndpZGdldC1lbWJlZC53aWRnZXQtZml4ZWQnKSxcbiAgICAkc3Vic2NyaWJlU3VibWl0OiBmYWxzZVxuICB9O1xuXG4gIGZuID0ge1xuICAgIGluaXQgKCkge1xuICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LmpRdWVyeSl7XG4gICAgICAgICAgZm4uZXZlbnRMaXN0ZW5lcigpO1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICB9XG4gICAgICB9LCA1MDApO1xuICAgIH0sXG5cbiAgICByZWdpc3RlckVscyAoKSB7XG4gICAgICBlbHMuJHNsaWRlRm9ybSA9ICQoJy5uZXdzbGV0dGVyLXNsaWRlJyk7XG4gICAgICBlbHMuJHNsaWRlRm9ybUNsb3NlID0gJCgnLm5ld3NsZXR0ZXItc2xpZGUtY2xvc2UtYnRuJyk7XG4gICAgICBlbHMuJGZvcm0gICAgICAgID0gJCgnLm5ld3NsZXR0ZXItZm9ybScpO1xuICAgICAgZWxzLiRjbG9zZSAgICAgICA9ICQoJyNuZXdzbGV0dGVyLWZvcm0tY2xvc2UtYnRuJyk7XG4gICAgICBlbHMuJGJ0biAgICAgICAgID0gJCgnLm5ld3NsZXR0ZXItZm9ybScpLmZpbmQoJ2J1dHRvblt0eXBlPXN1Ym1pdF0nKTtcbiAgICAgIGZuLmV2ZW50TGlzdGVuZXIoKTtcbiAgICB9LFxuXG4gICAgZXZlbnRMaXN0ZW5lciAoKSB7XG4gICAgICBlbHMuJGZvcm0ub24oICdzdWJtaXQnLCBoYW5kbGVycy5zYXZlICk7XG4gICAgICBlbHMuJHdpZGdldC5vbiggJ3N1Ym1pdCcsIGhhbmRsZXJzLmxvYWRTbGlkZUZvcm0gKTtcbiAgICAgIGVscy4kbmF2bGluay5vbiggJ2NsaWNrJywgaGFuZGxlcnMubG9hZFNsaWRlRm9ybSApO1xuICAgICAgZWxzLiRlbWJlZF9jbG9zZS5vbiggJ2NsaWNrJywgaGFuZGxlcnMuZml4ZWRXaWRnZXRDbG9zZSApO1xuICAgICAgZWxzLiRzbGlkZUZvcm1DbG9zZS5vbiggJ2NsaWNrJywgaGFuZGxlcnMuY2xvc2UgKTtcbiAgICB9LFxuXG4gICAgc2hvd1NsaWRlRm9ybSAoIGVtYWlsICkge1xuICAgICAgbGV0IHdpZHRoID0gJChkb2N1bWVudCkud2lkdGgoKTtcbiAgICAgICQoICdoZWFkZXIudHJkLWhlYWRlciwgLmFkbWluLWJhcicgKS5hZGRDbGFzcyggJ3pkb3duJyApO1xuICAgICAgaWYoIHdpZHRoID4gNzgyICkgJCgnaHRtbCxib2R5JykuYWRkQ2xhc3MoJ21vdmUtb3ZlcicpO1xuICAgICAgaWYoIHdpZHRoIDwgNzgyICkgJCgnaHRtbCxib2R5JykuYWRkQ2xhc3MoJ292ZXJmbG93LW9mZicpO1xuICAgICAgZWxzLiRzbGlkZUZvcm0uYWRkQ2xhc3MoICdzaG93JyApO1xuICAgICAgZWxzLiRmb3JtLmZpbmQoICdpbnB1dFt0eXBlPWVtYWlsXScgKS52YWwoIGVtYWlsICk7XG4gICAgICBzZXRUaW1lb3V0ICgoKSA9PiB7XG4gICAgICAgIGVscy4kZm9ybS5vbiggJ3N1Ym1pdCcsIGhhbmRsZXJzLnNhdmUgKTtcbiAgICAgICAgZWxzLiRmb3JtLm9uKCAncmVzZXQnLCBoYW5kbGVycy5jbG9zZSApO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfSxcblxuICAgIHRyYWNrRXZlbnQgKCBjYXRlZ29yeSwgYWN0aW9uLCBsYWJlbCwgdmFsdWUgKSB7XG4gICAgICBpZih0eXBlb2YgZGF0YUxheWVyICE9ICd1bmRlZmluZWQnKXtcbiAgICAgICAgZGF0YUxheWVyLnB1c2goe1xuICAgICAgICAgICdldmVudCc6IGNhdGVnb3J5LFxuICAgICAgICAgICd0cmQuYWN0aW9uJzogYWN0aW9uLFxuICAgICAgICAgICd0cmQuY2F0ZWdvcnknOiBjYXRlZ29yeSxcbiAgICAgICAgICAndHJkLmxhYmVsJzogbGFiZWwsXG4gICAgICAgICAgJ3RyZC52YWx1ZSc6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYoIHR5cGVvZiBmYnEgIT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICBmYnEoJ3RyYWNrQ3VzdG9tJywgY2F0ZWdvcnksIHtcbiAgICAgICAgICAndHJkLmFjdGlvbic6IGFjdGlvbixcbiAgICAgICAgICAndHJkLmxhYmVsJzogbGFiZWwsXG4gICAgICAgICAgJ3RyZC52YWx1ZSc6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBoYW5kbGVycyA9IHtcbiAgICBzYXZlICggZSApIHtcbiAgICAgIGlmKCBlbHMuJHN1YnNjcmliZVN1Ym1pdCApIHJldHVybiBmYWxzZTtcbiAgICAgIGVscy4kc3Vic2NyaWJlU3VibWl0ID0gdHJ1ZTsgXG4gICAgICBlbHMuJGJ0biA9IGVscy4kZm9ybS5maW5kKCdidXR0b25bdHlwZT1zdWJtaXRdJyk7XG4gICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgJ2FjdGlvbic6ICAgJ25ld3NsZXR0ZXJfc3Vic2NyaWJlJyxcbiAgICAgICAgJ3NlY3VyaXR5JzogdHJkX2FqYXguc2VjdXJpdHksXG4gICAgICAgICdkYXRhJzogICAgIHt9XG4gICAgICB9O1xuICAgICAgZWxzLiRmb3JtLmZpbmQoICdpbnB1dCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHZhbCAgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICBsZXQgbmFtZSA9ICQodGhpcykuYXR0cignbmFtZScpO1xuICAgICAgICBsZXQgdHlwZSA9ICQodGhpcykuYXR0cigndHlwZScpO1xuICAgICAgICBpZiggJ2NoZWNrYm94JyA9PT0gdHlwZSApIHtcbiAgICAgICAgICBpZiggbmFtZSAhPT0gJ3N1YnNjcmliZV9hbGwnKSB7XG4gICAgICAgICAgICBkYXRhLmRhdGFbIG5hbWUgXSA9ICQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoICQudHJpbSggdmFsICkgIT09ICcnICkge1xuICAgICAgICAgIGRhdGEuZGF0YVsgbmFtZSBdID0gdmFsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZuLnRyYWNrRXZlbnQoJ25ld3NsZXR0ZXJfc2lnbnVwJywgJ3N1YnNjcmliZV9zdWJtaXQnLCBkYXRhLmRhdGFbJ3BsYWNlJ10sIDEpO1xuICAgICAgZWxzLiRidG4udGV4dCgnU3Vic2NyaWJpbmcuLi4nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgalF1ZXJ5LnBvc3QoIHRyZF9hamF4LnVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICBlbHMuJHN1YnNjcmliZVN1Ym1pdCA9IGZhbHNlO1xuICAgICAgICBlbHMuJGJ0bi50ZXh0KCdTdWJzY3JpYmUnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAkKCcubmV3c2xldHRlci1mb3JtLWJ1dHRvbicpLmhpZGUoKTtcbiAgICAgICAgaWYoIHJlc3BvbnNlLnN1Y2Nlc3MgKXtcbiAgICAgICAgICAkKCcubmV3c2xldHRlci1mb3JtLXN1Y2Nlc3MnKS5zaG93KCk7XG4gICAgICAgICAgZm4udHJhY2tFdmVudCgnbmV3c2xldHRlcl9zaWdudXAnLCAnc3Vic2NyaWJlX3N1Y2Nlc3MnLCBkYXRhLmRhdGFbJ3BsYWNlJ10sIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoJy5uZXdzbGV0dGVyLWZvcm0tZXJyb3InKS5zaG93KCk7XG4gICAgICAgICAgZm4udHJhY2tFdmVudCgnbmV3c2xldHRlcl9zaWdudXAnLCAnc3Vic2NyaWJlX2ZhaWxlZCcsIGRhdGEuZGF0YVsncGxhY2UnXSwgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCgnLm5ld3NsZXR0ZXItZm9ybS1zdWNjZXNzLC5uZXdzbGV0dGVyLWZvcm0tZXJyb3InKS5oaWRlKCk7XG4gICAgICAgICAgJCgnLm5ld3NsZXR0ZXItZm9ybS1idXR0b24nKS5zaG93KCk7XG4gICAgICAgIH0sIG8ubWVzc2FnZVRpbWVvdXQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGxvYWRTbGlkZUZvcm0gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBuYW1lID0gJyc7XG4gICAgICBsZXQgZW1haWwgPSAnJztcbiAgICAgIGxldCB3aWRnZXQgPSAkKHRoaXMpO1xuICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICdhY3Rpb24nOiAgICduZXdzbGV0dGVyX3NsaWRlX2Zvcm0nLFxuICAgICAgICAnc2VjdXJpdHknOiB0cmRfYWpheC5zZWN1cml0eVxuICAgICAgfTtcbiAgICAgIGlmKCB3aWRnZXQucHJvcCgndGFnTmFtZScpID09PSAnRk9STScgKXtcbiAgICAgICAgbmFtZSA9IHdpZGdldC5hdHRyKCduYW1lJyk7XG4gICAgICAgIGVtYWlsID0gd2lkZ2V0LmZpbmQoJ2lucHV0W3R5cGU9ZW1haWxdLCBpbnB1dFtuYW1lPUVNQUlMXScpLnZhbCgpO1xuICAgICAgfSBlbHNlIGlmKCB3aWRnZXQucHJvcCgndGFnTmFtZScpID09PSAnQScgKSB7XG4gICAgICAgIG5hbWUgPSB3aWRnZXQuYXR0cignY2xhc3MnKTtcbiAgICAgIH0gXG4gICAgICBpZiggJCgnLm5ld3NsZXR0ZXItZm9ybS5wYWdlJykubGVuZ3RoICl7XG4gICAgICAgICQoJy5uZXdzbGV0dGVyLWZvcm0ucGFnZScpLmZpbmQoJ2lucHV0W3R5cGU9ZW1haWxdJykudmFsKCBlbWFpbCApLmZvY3VzKCk7XG4gICAgICAgICQoJ2h0bWwsYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgNTAwKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoIGVscy4kc2xpZGVGb3JtLmxlbmd0aCApe1xuICAgICAgICBmbi5zaG93U2xpZGVGb3JtKCBlbWFpbCApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgalF1ZXJ5LnBvc3QoIHRyZF9hamF4LnVybCwgZGF0YSwgZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICAgIGlmKCByZXNwb25zZSApe1xuICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCggcmVzcG9uc2UgKTtcbiAgICAgICAgICAgIGZuLnNob3dTbGlkZUZvcm0oIGVtYWlsICk7XG4gICAgICAgICAgICBmbi5yZWdpc3RlckVscygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBmbi50cmFja0V2ZW50KCAnbmV3c2xldHRlcl9zaWdudXAnLCAnb3Blbl8nK2UudHlwZSwgbmFtZSwgMSApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjbG9zZSAoIGUgKSB7XG4gICAgICBoYW5kbGVycy5maXhlZFdpZGdldENsb3NlKCBlICk7XG4gICAgICBlbHMuJHNsaWRlRm9ybS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb3ZlLW92ZXInKTtcbiAgICAgICQoJ2h0bWwsYm9keScpLnJlbW92ZUNsYXNzKCdvdmVyZmxvdy1vZmYnKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAkKCdoZWFkZXIudHJkLWhlYWRlciwgLmFkbWluLWJhcicpLnJlbW92ZUNsYXNzKCd6ZG93bicpO1xuICAgICAgfSwgNTAwKTtcbiAgICB9LFxuXG4gICAgZml4ZWRXaWRnZXRDbG9zZSAoIGUgKSB7XG4gICAgICAkKCcubmV3c2xldHRlci53aWRnZXQtZW1iZWQud2lkZ2V0LWZpeGVkJykucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcbiAgICB9LFxuXG4gICAgc2hvd0ZpeGVkV2lkZ2V0ICggZSApIHtcbiAgICAgICQoJy5uZXdzbGV0dGVyLndpZGdldC1lbWJlZC53aWRnZXQtZml4ZWQnKS5hZGRDbGFzcygnc2hvdycpO1xuICAgIH1cbiAgICBcbiAgfTtcblxuICBmbi5pbml0KCk7XG59OyIsIid1c2Ugc3RyaWN0JztcbmNvbnNvbGUuaW5mbygnVFJEIENvcmUgTG9hZGVkJyk7XG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICcuL19uYXZpZ2F0aW9uJztcbmltcG9ydCBOZXdzbGV0dGVyIGZyb20gJy4vX25ld3NsZXR0ZXInO1xuXG53aW5kb3cudHJkICAgICAgICAgICAgICAgPSB3aW5kb3cudHJkIHx8IHt9O1xud2luZG93LnRyZC5mbiAgICAgICAgICAgID0gd2luZG93LnRyZC5mbiB8fCB7fTtcbndpbmRvdy50cmQuZm4ubmF2ICAgICAgICA9IE5hdmlnYXRpb247XG53aW5kb3cudHJkLmZuLm5ld3NsZXR0ZXIgPSBOZXdzbGV0dGVyO1xuXG53aW5kb3cudHJkLm5hdiAgICAgICAgPSBuZXcgTmF2aWdhdGlvbigpO1xud2luZG93LnRyZC5uZXdzbGV0dGVyID0gbmV3IE5ld3NsZXR0ZXIoKTtcbiJdfQ==\n"]}